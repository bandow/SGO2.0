<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<link href="css/mui.min.css" rel="stylesheet" />
<link href="css/city.css" rel="stylesheet" />
</head>
<body>
<div class="sgo-page-wrapper" id="citySelectPage">	
    <div class="sgo-page-wrapper-header">
	    <a class="sgo-arrow" id="closePage"></a>
	    <h2 class="mui-title">请选择目的地</h2>
	</div>	
	<div class="mui-content">
		<div class="search">
			<div id="search-form"></div>
		</div>
	    <div class="list">
	    	<div class="city-title"><h6>当前位置</h6></div>
	    	<div class="location"><p>广州市天河区天河路</p></div>
	    	<div class="city-title"><h6>最近访问</h6></div>
	    	<div class="history">
	    		<ul>
	    			<li><a href="">重庆</a></li>
	    			<li><a href="">古镇酒店</a></li>
	    		</ul>
	    	</div>
	    	<div class="city-title"><h6>热门城市</h6></div>
	    	<div class="hot-city">
	    		<ul>
	    			<li class="active"><a href="">重庆</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">重庆</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    			<li><a href="">北京</a></li>
	    		</ul>
	    	</div>
	    	<div class="city-title" id="A"><h6>A</h6></div>
	    	<div class="city-list-select">
	    		<dl>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    		</dl>
	    	</div>
	    	<div class="city-title" id="B"><h6>B</h6></div>
	    	<div class="city-list-select">
	    		<dl>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    			<dd><a href="">阿贝</a></dd>
	    			<dd><a href="">阿尔山市</a></dd>
	    			<dd><a href="">阿克苏</a></dd>
	    			<dd><a href="">阿拉尔</a></dd>
	    			<dd><a href="">阿拉善盟</a></dd>
	    			<dd><a href="">阿拉善盟阿拉善盟</a></dd>
	    		</dl>
	    	</div>
	    </div>	 
	</div>
	<div class="sidebar-right-side">
		<a href="#A"><span>A</span></a>
		<a href="#B"><span>B</span></a>
		<a href="#C"><span>C</span></a>
		<a href="#D"><span>D</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
		<a href="#E"><span>E</span></a>
	</div>
</div>
<script src="js/mui.min.js"></script>
<script>
	mui.init();
	function goback(){
		window.history.go(-1);
	}
</script>
<script src="js/jquery-1.12.2.min.js" ></script>
<script src="js/inputselect.js"></script>
<script>   
		(function($) {
			$.fn.autocomplete = function(params) {
				
				//Selections
				var currentSelection = -1;
				var currentProposals = [];
				
				//Default parameters
				params = $.extend({
					hints: [],
					placeholder: '请输入位置/酒店名/关键词',
					width: 200,
					height: 16,
					showButton: true,
					buttonText: 'Search',
					onSubmit: function(text){},
					onBlur: function(){}
				}, params);

				//Build messagess
				this.each(function() {
					//Container
					var searchContainer = $('<div></div>')
						.addClass('autocomplete-container')
						.css('height', params.height * 2);	
						
					//Text input		
					var input = $('<input type="text" autocomplete="off" name="query">')
						.attr('placeholder', params.placeholder)
						.addClass('autocomplete-input')
						.css({
							'width' : '90%',
							'height' : params.height
						});
					
					if(params.showButton){
						input.css('border-radius', '3px');
					}

					//Proposals
					var proposals = $('<div></div>')
						.addClass('proposal-box')
						.css('width', params.width + 18)
						.css('top', input.height()  -10);
					var proposalList = $('<ul></ul>')
						.addClass('proposal-list');

					proposals.append(proposalList);
					
					input.keydown(function(e) { 
						switch(e.which) {
							case 38: // Up arrow
							e.preventDefault();
							$('ul.proposal-list li').removeClass('selected');
							if((currentSelection - 1) >= 0){
								currentSelection--;
								$( "ul.proposal-list li:eq(" + currentSelection + ")" )
									.addClass('selected');
							} else {
								currentSelection = -1;
							}
							break;
							case 40: // Down arrow
							e.preventDefault();
							if((currentSelection + 1) < currentProposals.length){
								$('ul.proposal-list li').removeClass('selected');
								currentSelection++;
								$( "ul.proposal-list li:eq(" + currentSelection + ")" )
									.addClass('selected');
							}
							break;
							case 13: // Enter
								if(currentSelection > -1){
									var text = $( "ul.proposal-list li:eq(" + currentSelection + ")" ).html();
									input.val(text);
								}
								currentSelection = -1;
								proposalList.empty();
								params.onSubmit(input.val());
								break;
							case 27: // Esc button
								currentSelection = -1;
								proposalList.empty();
								input.val('');
								break;
						}
					});
						
					input.bind("change paste keyup", function(e){
						if(e.which != 13 && e.which != 27 
								&& e.which != 38 && e.which != 40){				
							currentProposals = [];
							currentSelection = -1;
							proposalList.empty();

							//为空的时候
							$(".list").show();
							$("#search-form").css("min-height",30 );
							$(".sidebar-right-side").css("z-index",12);

							if(input.val() != ''){
								var word = "^" + input.val() + ".*";
								proposalList.empty();
								for(var test in params.hints){
									if(params.hints[test].match(word)){
										currentProposals.push(params.hints[test]);	
										var element = $('<li></li>')
											.html(params.hints[test])
											.addClass('proposal')
											.click(function(){
												input.val($(this).html());
												proposalList.empty();
												params.onSubmit(input.val());
												//跳转页面
												$(".list").show();
												$("#search-form").css("min-height",30 );
												$(".sidebar-right-side").css("z-index",12);
											})
											.mouseenter(function() {
												$(this).addClass('selected');

												input.val($(this).html());
												proposalList.empty();
												params.onSubmit(input.val());
												//跳转页面
												$(".list").show();
												$("#search-form").css("min-height",30 );
												$(".sidebar-right-side").css("z-index",12);

											})
											.mouseleave(function() {
												$(this).removeClass('selected');
											});
										proposalList.append(element);
									}
								}
								//不为空的时候
								$(".list").hide();
								$("#search-form").css("min-height",667 );
								$(".sidebar-right-side").css("z-index",-1);
							}
						}
						
					});

					// $(".autocomplete-container i").on("click",function(){
					// 	input.val() == '';
					// })
					
					input.blur(function(e){
						currentSelection = -1;
						//proposalList.empty();
						params.onBlur();
					});
					
					searchContainer.append(input);
					searchContainer.append(proposals);		
					
					/*if(params.showButton){
						//Search button
						var button = $('<div></div>')
							.addClass('autocomplete-button')
							.html(params.buttonText)
							.css({
								'height': params.height + 2,
								'line-height': params.height + 2 + 'px'
							})
							.click(function(){
								proposalList.empty();
								params.onSubmit(input.val());
							});
						searchContainer.append(button);	
					}*/
			
					$(this).append(searchContainer);	
					
					/*if(params.showButton){
						//Width fix
						searchContainer.css('width', params.width + button.width() + 50);
					}*/
				});

				return this;
			};

		})(jQuery);

        $(".sidebar-right-side a").on("touchstart",function(){
        	var href = $(this).attr("href");
			var pos = $(href).offset().top-40;
			$(".list-bar-tip").text($(this).text()).show();
			setTimeout(function(){
				$(".list-bar-tip").hide();
			},1000);
			$("html,body").animate({scrollTop: pos}, 1000);
			return false;
        })
   </script>


<script type="text/javascript">
var proposals = ['百度1', '百度2', '百度3', '百度4', '百度5', '百度6', '百度7','呵呵呵呵呵呵呵','百度','新浪','a1','a2','a3','a4','b1','b2','b3','b4'];

$(document).ready(function(){
	$('#search-form').autocomplete({
		hints: proposals,
		width: '100%',
		height: 30,
		onSubmit: function(text){
			$('#message').html('Selected: <b>' + text + '</b>');			
		}
	});
});
</script>
</body>
</html>